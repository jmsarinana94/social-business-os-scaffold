(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[187],{1140:function(e,t,s){Promise.resolve().then(s.bind(s,7860))},7860:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(7566),l=s(8276);let i="http://localhost:4000",r="demo-org";function n(){let[e,t]=(0,l.useState)({title:"Blue T-Shirt",type:"physical",description:"100% cotton tee",priceDollars:"",sku:"",inventoryQty:"0",status:"active"}),[s,n]=(0,l.useState)(!1),[c,o]=(0,l.useState)(null);async function d(t){t.preventDefault(),n(!0),o(null);let s=parseFloat(e.priceDollars.replace(/[^0-9.]/g,"")),a=Number.isFinite(s)?Math.round(100*s):0,l=Number(e.inventoryQty.replace(/[^0-9-]/g,"")),c=Number.isFinite(l)?l:0;try{let t=await fetch("".concat(i,"/products"),{method:"POST",headers:{"Content-Type":"application/json","x-org":r},body:JSON.stringify({title:e.title,type:e.type,description:e.description||null,price:a,sku:e.sku||void 0,inventoryQty:c,status:e.status})});if(!t.ok){let e=await t.text().catch(()=>"");throw Error(e||"Failed to create product (".concat(t.status,")"))}window.location.href="/catalog?ts=".concat(Date.now())}catch(e){o(e instanceof Error?e.message:"Something went wrong"),n(!1)}}return(0,a.jsx)("main",{className:"p-6",children:(0,a.jsxs)("div",{className:"mx-auto max-w-xl space-y-4",children:[(0,a.jsx)("a",{className:"underline",href:"/catalog",children:"← Back to Catalog"}),(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:"Create product"}),(0,a.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium",children:"Title"}),(0,a.jsx)("input",{id:"title",className:"w-full rounded border p-2",value:e.title,onChange:e=>t(t=>({...t,title:e.target.value})),placeholder:"Title",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium",children:"Type"}),(0,a.jsxs)("select",{id:"type",className:"w-full rounded border p-2",value:e.type,onChange:e=>t(t=>({...t,type:e.target.value})),children:[(0,a.jsx)("option",{value:"physical",children:"physical"}),(0,a.jsx)("option",{value:"digital",children:"digital"}),(0,a.jsx)("option",{value:"service",children:"service"})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium",children:"Description (optional)"}),(0,a.jsx)("textarea",{id:"description",className:"w-full rounded border p-2",value:e.description,onChange:e=>t(t=>({...t,description:e.target.value})),placeholder:"Description (optional)",rows:4})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium",children:"Price (USD)"}),(0,a.jsx)("input",{id:"price",className:"w-full rounded border p-2",inputMode:"decimal",value:e.priceDollars,onChange:e=>t(t=>({...t,priceDollars:e.target.value})),placeholder:"e.g. 19.99"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"inventory",className:"block text-sm font-medium",children:"Inventory Qty"}),(0,a.jsx)("input",{id:"inventory",className:"w-full rounded border p-2",inputMode:"numeric",value:e.inventoryQty,onChange:e=>t(t=>({...t,inventoryQty:e.target.value})),placeholder:"0"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium",children:"Status"}),(0,a.jsxs)("select",{id:"status",className:"w-full rounded border p-2",value:e.status,onChange:e=>t(t=>({...t,status:e.target.value})),children:[(0,a.jsx)("option",{value:"active",children:"active"}),(0,a.jsx)("option",{value:"archived",children:"archived"})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{htmlFor:"sku",className:"block text-sm font-medium",children:"SKU (optional)"}),(0,a.jsx)("input",{id:"sku",className:"w-full rounded border p-2",value:e.sku,onChange:e=>t(t=>({...t,sku:e.target.value})),placeholder:"auto if left blank"})]})]}),c&&(0,a.jsx)("div",{className:"text-sm text-red-600",children:c}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,a.jsx)("button",{type:"submit",disabled:s,className:"rounded border px-4 py-2 disabled:opacity-60",children:s?"Saving…":"Save Product"}),(0,a.jsx)("a",{href:"/catalog",className:"underline",children:"Cancel"})]})]})]})})}i&&r||console.warn("Missing NEXT_PUBLIC_API_URL or NEXT_PUBLIC_ORG_ID")}},function(e){e.O(0,[151,649,744],function(){return e(e.s=1140)}),_N_E=e.O()}]);