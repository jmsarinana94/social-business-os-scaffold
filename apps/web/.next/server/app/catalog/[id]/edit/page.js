(()=>{var e={};e.id=188,e.ids=[188],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6097:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(2888),t(805),t(2340);var a=t(3324),i=t(8099),l=t(5610),r=t.n(l),n=t(9970),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d=["",{children:["catalog",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2888)),"/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/web/app/catalog/[id]/edit/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,805)),"/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,2340,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/web/app/catalog/[id]/edit/page.tsx"],p="/catalog/[id]/edit/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/catalog/[id]/edit/page",pathname:"/catalog/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},150:(e,s,t)=>{Promise.resolve().then(t.bind(t,8212))},2117:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,5438,23)),Promise.resolve().then(t.t.bind(t,9457,23)),Promise.resolve().then(t.t.bind(t,1240,23)),Promise.resolve().then(t.t.bind(t,1241,23)),Promise.resolve().then(t.t.bind(t,3786,23)),Promise.resolve().then(t.t.bind(t,3858,23))},5325:()=>{},8212:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a=t(2913),i=t(7761);let l="demo-org";function r({params:e}){let{id:s}=e,[t,r]=(0,i.useState)(!0),[n,o]=(0,i.useState)({title:"",type:"physical",description:"",priceDollars:"",sku:"",inventoryQty:"0",status:"active"});async function d(e){e.preventDefault();let t=parseFloat(n.priceDollars.replace(/[^0-9.]/g,"")),a=Number.isFinite(t)?Math.round(100*t):0,i=Number(n.inventoryQty.replace(/[^0-9-]/g,"")),r=Number.isFinite(i)?i:0;await fetch(`/api/products/${s}`,{method:"PUT",headers:{"Content-Type":"application/json","x-org":l},body:JSON.stringify({title:n.title,type:n.type,description:n.description||null,price:a,sku:n.sku||void 0,inventoryQty:r,status:n.status})}),window.location.href=`/catalog?ts=${Date.now()}`}return t?a.jsx("div",{style:{padding:24},children:"Loadingâ€¦"}):(0,a.jsxs)("div",{className:"max-w-xl space-y-4 p-6",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Edit product"}),(0,a.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium",children:"Title"}),a.jsx("input",{id:"title",className:"w-full rounded border p-2",value:n.title,onChange:e=>o(s=>({...s,title:e.target.value})),placeholder:"Title",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("label",{htmlFor:"type",className:"block text-sm font-medium",children:"Type"}),(0,a.jsxs)("select",{id:"type",className:"w-full rounded border p-2",value:n.type,onChange:e=>o(s=>({...s,type:e.target.value})),children:[a.jsx("option",{value:"physical",children:"physical"}),a.jsx("option",{value:"digital",children:"digital"}),a.jsx("option",{value:"service",children:"service"})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium",children:"Description (optional)"}),a.jsx("textarea",{id:"description",className:"w-full rounded border p-2",value:n.description,onChange:e=>o(s=>({...s,description:e.target.value})),placeholder:"Description (optional)",rows:4})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("label",{htmlFor:"price",className:"block text-sm font-medium",children:"Price (USD)"}),a.jsx("input",{id:"price",className:"w-full rounded border p-2",inputMode:"decimal",value:n.priceDollars,onChange:e=>o(s=>({...s,priceDollars:e.target.value})),placeholder:"e.g. 19.99"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("label",{htmlFor:"inventory",className:"block text-sm font-medium",children:"Inventory Qty"}),a.jsx("input",{id:"inventory",className:"w-full rounded border p-2",inputMode:"numeric",value:n.inventoryQty,onChange:e=>o(s=>({...s,inventoryQty:e.target.value})),placeholder:"0"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium",children:"Status"}),(0,a.jsxs)("select",{id:"status",className:"w-full rounded border p-2",value:n.status,onChange:e=>o(s=>({...s,status:e.target.value})),children:[a.jsx("option",{value:"active",children:"active"}),a.jsx("option",{value:"archived",children:"archived"})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("label",{htmlFor:"sku",className:"block text-sm font-medium",children:"SKU (optional)"}),a.jsx("input",{id:"sku",className:"w-full rounded border p-2",value:n.sku,onChange:e=>o(s=>({...s,sku:e.target.value})),placeholder:"auto if left blank"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:[a.jsx("button",{type:"submit",className:"rounded border px-4 py-2",children:"Save"}),a.jsx("a",{href:"/catalog",className:"underline",children:"Cancel"})]})]})]})}l||console.warn("Missing NEXT_PUBLIC_ORG_ID")},2888:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>r,__esModule:()=>l,default:()=>n});var a=t(2293);let i=(0,a.createProxy)(String.raw`/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/web/app/catalog/[id]/edit/page.tsx`),{__esModule:l,$$typeof:r}=i;i.default;let n=(0,a.createProxy)(String.raw`/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/web/app/catalog/[id]/edit/page.tsx#default`)},805:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,metadata:()=>i});var a=t(8564);let i={title:"Social Media Business OS"};function l({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:"min-h-screen",children:a.jsx("div",{className:"mx-auto max-w-5xl p-6",children:e})})})}}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[909],()=>t(6097));module.exports=a})();