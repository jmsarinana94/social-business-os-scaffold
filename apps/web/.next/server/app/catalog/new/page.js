(()=>{var e={};e.id=959,e.ids=[959],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4985:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(9417),t(805),t(2340);var a=t(3324),l=t(8099),n=t(5610),r=t.n(n),i=t(9970),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let c=["",{children:["catalog",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9417)),"/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/web/app/catalog/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,805)),"/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,2340,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/web/app/catalog/new/page.tsx"],p="/catalog/new/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/catalog/new/page",pathname:"/catalog/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6527:(e,s,t)=>{Promise.resolve().then(t.bind(t,4765))},2117:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,5438,23)),Promise.resolve().then(t.t.bind(t,9457,23)),Promise.resolve().then(t.t.bind(t,1240,23)),Promise.resolve().then(t.t.bind(t,1241,23)),Promise.resolve().then(t.t.bind(t,3786,23)),Promise.resolve().then(t.t.bind(t,3858,23))},5325:()=>{},4765:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a=t(2913),l=t(7761);let n="demo-org";function r(){let[e,s]=(0,l.useState)({title:"",type:"physical",description:"",priceDollars:"",sku:"",inventoryQty:"0",status:"active"}),[t,r]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null);async function c(s){s.preventDefault(),r(!0),o(null);let t=parseFloat(e.priceDollars.replace(/[^0-9.]/g,"")),a=Number.isFinite(t)?Math.round(100*t):0,l=Number(e.inventoryQty.replace(/[^0-9-]/g,"")),i=Number.isFinite(l)?l:0;try{let s=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json","x-org":n},body:JSON.stringify({title:e.title,type:e.type,description:e.description||null,price:a,sku:e.sku||void 0,inventoryQty:i,status:e.status})});if(!s.ok){let e=await s.text();throw Error(e||"Failed to create product")}window.location.href=`/catalog?ts=${Date.now()}`}catch(e){o(e instanceof Error?e.message:"Something went wrong")}finally{r(!1)}}return(0,a.jsxs)("div",{className:"max-w-xl space-y-4 p-6",children:[a.jsx("a",{className:"underline",href:"/catalog",children:"← Back to Catalog"}),a.jsx("h1",{className:"text-2xl font-semibold",children:"New product"}),(0,a.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium",children:"Title"}),a.jsx("input",{id:"title",className:"w-full rounded border p-2",value:e.title,onChange:e=>s(s=>({...s,title:e.target.value})),placeholder:"Title",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("label",{htmlFor:"type",className:"block text-sm font-medium",children:"Type"}),(0,a.jsxs)("select",{id:"type",className:"w-full rounded border p-2",value:e.type,onChange:e=>s(s=>({...s,type:e.target.value})),children:[a.jsx("option",{value:"physical",children:"physical"}),a.jsx("option",{value:"digital",children:"digital"}),a.jsx("option",{value:"service",children:"service"})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium",children:"Description (optional)"}),a.jsx("textarea",{id:"description",className:"w-full rounded border p-2",value:e.description,onChange:e=>s(s=>({...s,description:e.target.value})),placeholder:"Description (optional)",rows:4})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("label",{htmlFor:"price",className:"block text-sm font-medium",children:"Price (USD)"}),a.jsx("input",{id:"price",className:"w-full rounded border p-2",inputMode:"decimal",value:e.priceDollars,onChange:e=>s(s=>({...s,priceDollars:e.target.value})),placeholder:"e.g. 19.99"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("label",{htmlFor:"inventory",className:"block text-sm font-medium",children:"Inventory Qty"}),a.jsx("input",{id:"inventory",className:"w-full rounded border p-2",inputMode:"numeric",value:e.inventoryQty,onChange:e=>s(s=>({...s,inventoryQty:e.target.value})),placeholder:"0"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium",children:"Status"}),(0,a.jsxs)("select",{id:"status",className:"w-full rounded border p-2",value:e.status,onChange:e=>s(s=>({...s,status:e.target.value})),children:[a.jsx("option",{value:"active",children:"active"}),a.jsx("option",{value:"archived",children:"archived"})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("label",{htmlFor:"sku",className:"block text-sm font-medium",children:"SKU (optional)"}),a.jsx("input",{id:"sku",className:"w-full rounded border p-2",value:e.sku,onChange:e=>s(s=>({...s,sku:e.target.value})),placeholder:"auto if left blank"})]})]}),i&&a.jsx("div",{className:"text-sm text-red-600",children:i}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:[a.jsx("button",{type:"submit",disabled:t,className:"rounded border px-4 py-2 disabled:opacity-60",children:t?"Saving…":"Save"}),a.jsx("a",{href:"/catalog",className:"underline",children:"Cancel"})]})]})]})}n||console.warn("Missing NEXT_PUBLIC_ORG_ID")},9417:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>r,__esModule:()=>n,default:()=>i});var a=t(2293);let l=(0,a.createProxy)(String.raw`/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/web/app/catalog/new/page.tsx`),{__esModule:n,$$typeof:r}=l;l.default;let i=(0,a.createProxy)(String.raw`/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/web/app/catalog/new/page.tsx#default`)},805:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n,metadata:()=>l});var a=t(8564);let l={title:"Social Media Business OS"};function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:"min-h-screen",children:a.jsx("div",{className:"mx-auto max-w-5xl p-6",children:e})})})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[909],()=>t(4985));module.exports=a})();