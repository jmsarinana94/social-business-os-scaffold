{"file":"/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/api/src/modules/products/products.controller.ts","mappings":"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","names":[],"sources":["/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/api/src/modules/products/products.controller.ts"],"sourcesContent":["import {\n  Body,\n  Controller,\n  Delete,\n  Get,\n  Headers,\n  Param,\n  Post,\n  Put,\n  Query,\n} from '@nestjs/common';\nimport { ProductsService } from './products.service';\n\ntype CreateBody = {\n  sku?: string;\n  title: string;\n  description?: string | null;\n  type: 'PHYSICAL' | 'DIGITAL';\n  status: 'ACTIVE' | 'INACTIVE';\n  price: string;\n};\n\ntype UpdateBody = Partial<CreateBody>;\ntype AdjustBody = { delta: number };\n\n@Controller('products')\nexport class ProductsController {\n  constructor(private readonly products: ProductsService) {}\n\n  @Get()\n  async list(\n    @Headers('x-org') org: string,\n    @Query('page') page = '1',\n    @Query('limit') limit = '10',\n  ) {\n    const p = Number.parseInt(page as string, 10) || 1;\n    const l = Number.parseInt(limit as string, 10) || 10;\n    return this.products.list(org, p, l);\n  }\n\n  @Get(':id')\n  async get(\n    @Headers('x-org') org: string,\n    @Param('id') id: string,\n  ) {\n    return this.products.get(org, id);\n  }\n\n  @Post()\n  async create(\n    @Headers('x-org') org: string,\n    @Body() body: CreateBody,\n  ) {\n    // Let the service normalize enums; no string re-casting here\n    return this.products.create(org, body);\n  }\n\n  @Put(':id')\n  async update(\n    @Headers('x-org') org: string,\n    @Param('id') id: string,\n    @Body() body: UpdateBody,\n  ) {\n    // Pass through; service validates & normalizes\n    return this.products.update(org, id, body);\n  }\n\n  @Delete(':id')\n  async remove(\n    @Headers('x-org') org: string,\n    @Param('id') id: string,\n  ) {\n    return this.products.remove(org, id);\n  }\n\n  @Get(':id/inventory')\n  async getInventory(\n    @Headers('x-org') org: string,\n    @Param('id') id: string,\n  ) {\n    return this.products.getInventory(org, id);\n  }\n\n  @Post(':id/inventory')\n  async adjustInventory(\n    @Headers('x-org') org: string,\n    @Param('id') id: string,\n    @Body() body: AdjustBody,\n  ) {\n    const delta = Number(body?.delta ?? 0);\n    return this.products.adjustInventory(org, id, delta);\n  }\n}"],"version":3}