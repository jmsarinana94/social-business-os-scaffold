{"file":"/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/api/src/modules/auth/auth.controller.ts","mappings":";;;;;;;;;;;;;;;AAAA,2CAAiE;AACjE,qDAA2E;AAC3E,iDAA6C;AAE7C,MAAM,OAAO;CAWZ;AATC;IADC,IAAA,yBAAO,GAAE;;sCACK;AAIf;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,2BAAS,EAAC,CAAC,CAAC;;yCACK;AAIlB;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;oCACA;AAIR,IAAM,cAAc,GAApB,MAAM,cAAc;IACzB,YAA6B,IAAiB;QAAjB,SAAI,GAAJ,IAAI,CAAa;IAAG,CAAC;IAG5C,AAAN,KAAK,CAAC,MAAM,CACQ,SAA6B,EACvC,GAAY;QAEpB,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,IAAI,SAAS,IAAI,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;QACpD,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;IAC7E,CAAC;IAGK,AAAN,KAAK,CAAC,KAAK,CACS,SAA6B,EACvC,GAAY;QAEpB,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,IAAI,SAAS,IAAI,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;QACpD,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;IAC5E,CAAC;CACF,CAAA;AApBY,wCAAc;AAInB;IADL,IAAA,aAAI,EAAC,QAAQ,CAAC;IAEZ,WAAA,IAAA,gBAAO,EAAC,OAAO,CAAC,CAAA;IAChB,WAAA,IAAA,aAAI,GAAE,CAAA;;6CAAM,OAAO;;4CAIrB;AAGK;IADL,IAAA,aAAI,EAAC,OAAO,CAAC;IAEX,WAAA,IAAA,gBAAO,EAAC,OAAO,CAAC,CAAA;IAChB,WAAA,IAAA,aAAI,GAAE,CAAA;;6CAAM,OAAO;;2CAIrB;yBAnBU,cAAc;IAD1B,IAAA,mBAAU,EAAC,MAAM,CAAC;qCAEkB,0BAAW;GADnC,cAAc,CAoB1B","names":[],"sources":["/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/api/src/modules/auth/auth.controller.ts"],"sourcesContent":["import { Body, Controller, Headers, Post } from '@nestjs/common';\nimport { IsEmail, IsOptional, IsString, MinLength } from 'class-validator';\nimport { AuthService } from './auth.service';\n\nclass AuthDto {\n  @IsEmail()\n  email!: string;\n\n  @IsString()\n  @MinLength(6)\n  password!: string;\n\n  @IsString()\n  @IsOptional()\n  org?: string;\n}\n\n@Controller('auth')\nexport class AuthController {\n  constructor(private readonly auth: AuthService) {}\n\n  @Post('signup')\n  async signup(\n    @Headers('x-org') orgHeader: string | undefined,\n    @Body() dto: AuthDto,\n  ) {\n    const org = (dto.org ?? orgHeader ?? 'demo').trim();\n    return this.auth.signup({ org, email: dto.email, password: dto.password });\n  }\n\n  @Post('login')\n  async login(\n    @Headers('x-org') orgHeader: string | undefined,\n    @Body() dto: AuthDto,\n  ) {\n    const org = (dto.org ?? orgHeader ?? 'demo').trim();\n    return this.auth.login({ org, email: dto.email, password: dto.password });\n  }\n}"],"version":3}