{"file":"/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/api/src/modules/auth/auth.controller.ts","mappings":";;;;;;;;;;;;;;;AAAA,2CAAuG;AACvG,iDAA6C;AAC7C,qEAAuD;AACvD,+CAA2C;AAC3C,iDAA6C;AAC7C,2CAA2C;AAGpC,IAAM,cAAc,GAApB,MAAM,cAAc;IACzB,YAA6B,IAAiB;QAAjB,SAAI,GAAJ,IAAI,CAAa;IAAG,CAAC;IAG5C,AAAN,KAAK,CAAC,MAAM,CACQ,GAAW,EACrB,GAAc;QAEtB,6CAA6C;QAC7C,MAAM,OAAO,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACnC,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC;IACpD,CAAC;IAIK,AAAN,KAAK,CAAC,KAAK,CACS,GAAW,EACrB,GAAa;QAErB,MAAM,OAAO,GAAG,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;QACnC,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC;IACnD,CAAC;IAIK,AAAN,KAAK,CAAC,EAAE,CAAqB,MAAc;QACzC,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IAC9B,CAAC;CACF,CAAA;AA5BY,wCAAc;AAInB;IADL,IAAA,aAAI,EAAC,QAAQ,CAAC;IAEZ,WAAA,IAAA,gBAAO,EAAC,OAAO,CAAC,CAAA;IAChB,WAAA,IAAA,aAAI,GAAE,CAAA;;6CAAM,sBAAS;;4CAKvB;AAIK;IAFL,IAAA,aAAI,EAAC,OAAO,CAAC;IACb,IAAA,iBAAQ,EAAC,mBAAU,CAAC,EAAE,CAAC;IAErB,WAAA,IAAA,gBAAO,EAAC,OAAO,CAAC,CAAA;IAChB,WAAA,IAAA,aAAI,GAAE,CAAA;;6CAAM,oBAAQ;;2CAItB;AAIK;IAFL,IAAA,YAAG,EAAC,IAAI,CAAC;IACT,IAAA,kBAAS,EAAC,wBAAY,CAAC;IACd,WAAA,IAAA,oCAAW,EAAC,KAAK,CAAC,CAAA;;;;wCAE3B;yBA3BU,cAAc;IAD1B,IAAA,mBAAU,EAAC,MAAM,CAAC;qCAEkB,0BAAW;GADnC,cAAc,CA4B1B","names":[],"sources":["/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/api/src/modules/auth/auth.controller.ts"],"sourcesContent":["import { Body, Controller, Get, Headers, HttpCode, HttpStatus, Post, UseGuards } from '@nestjs/common';\nimport { AuthService } from './auth.service';\nimport { CurrentUser } from './current-user.decorator';\nimport { LoginDto } from './dto/login.dto';\nimport { SignupDto } from './dto/signup.dto';\nimport { JwtAuthGuard } from './jwt.guard';\n\n@Controller('auth')\nexport class AuthController {\n  constructor(private readonly auth: AuthService) {}\n\n  @Post('signup')\n  async signup(\n    @Headers('x-org') org: string,\n    @Body() dto: SignupDto,\n  ) {\n    // Require org header for now (tests send it)\n    const orgSlug = (org ?? '').trim();\n    return this.auth.signup({ org: orgSlug, ...dto });\n  }\n\n  @Post('login')\n  @HttpCode(HttpStatus.OK)\n  async login(\n    @Headers('x-org') org: string,\n    @Body() dto: LoginDto,\n  ) {\n    const orgSlug = (org ?? '').trim();\n    return this.auth.login({ org: orgSlug, ...dto });\n  }\n\n  @Get('me')\n  @UseGuards(JwtAuthGuard)\n  async me(@CurrentUser('sub') userId: string) {\n    return this.auth.me(userId);\n  }\n}"],"version":3}