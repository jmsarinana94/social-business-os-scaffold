{"file":"/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/api/src/common/guards/org.guard.ts","mappings":";;;;;;;;;AAAA,2CAAgG;AAIzF,IAAM,cAAc,GAApB,MAAM,cAAc;IACzB,WAAW,CAAC,OAAyB;QACnC,MAAM,GAAG,GAAG,OAAO,CAAC,YAAY,EAAE,CAAC,UAAU,EAAW,CAAC;QACzD,MAAM,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,CAAC;QACzC,IAAI,CAAC,IAAI,EAAE,CAAC;YACV,MAAM,IAAI,4BAAmB,CAAC,uBAAuB,CAAC,CAAC;QACzD,CAAC;QACD,4DAA4D;QAC3D,GAAW,CAAC,SAAS,GAAG,IAAI,CAAC;QAC9B,OAAO,IAAI,CAAC;IACZ,CAAC;CACJ,CAAA;AAXY,wCAAc;yBAAd,cAAc;IAD1B,IAAA,mBAAU,GAAE;GACA,cAAc,CAW1B","names":[],"sources":["/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/api/src/common/guards/org.guard.ts"],"sourcesContent":["import { BadRequestException, CanActivate, ExecutionContext, Injectable } from '@nestjs/common';\nimport { Request } from 'express';\n\n@Injectable()\nexport class OrgHeaderGuard implements CanActivate {\n  canActivate(context: ExecutionContext): boolean {\n    const req = context.switchToHttp().getRequest<Request>();\n    const slug = req.header('x-org')?.trim();\n    if (!slug) {\n      throw new BadRequestException('x-org header required');\n    }\n    // stow for handlers that want it without re-reading headers\n    (req as any).__orgSlug = slug;\n    return true;\n    }\n}"],"version":3}