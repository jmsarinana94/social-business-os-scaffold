{"file":"/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/api/src/modules/auth/auth.controller.ts","mappings":";;;;;;;;;;;;;;;;;;AAAA,2CAA4G;AAC5G,kEAAyC;AACzC,qDAAgD;AAGzC,IAAM,cAAc,GAApB,MAAM,cAAc;IACzB,YAA6B,IAAiB;QAAjB,SAAI,GAAJ,IAAI,CAAa;IAAG,CAAC;IAG5C,AAAN,KAAK,CAAC,MAAM,CAAmB,IAAY,EAAU,GAAwC;QAC3F,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;IACnF,CAAC;IAIK,AAAN,KAAK,CAAC,KAAK,CAAmB,IAAY,EAAU,GAAwC;QAC1F,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;IAClF,CAAC;IAID,EAAE,CAAQ,GAAQ;QAChB,0CAA0C;QAC1C,OAAO,EAAE,EAAE,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,KAAK,EAAE,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;IACpD,CAAC;CACF,CAAA;AApBY,wCAAc;AAInB;IADL,IAAA,aAAI,EAAC,QAAQ,CAAC;IACD,WAAA,IAAA,gBAAO,EAAC,OAAO,CAAC,CAAA;IAAgB,WAAA,IAAA,aAAI,GAAE,CAAA;;;;4CAEnD;AAIK;IAFL,IAAA,aAAI,EAAC,OAAO,CAAC;IACb,IAAA,iBAAQ,EAAC,mBAAU,CAAC,EAAE,CAAC;IACX,WAAA,IAAA,gBAAO,EAAC,OAAO,CAAC,CAAA;IAAgB,WAAA,IAAA,aAAI,GAAE,CAAA;;;;2CAElD;AAID;IAFC,IAAA,YAAG,EAAC,IAAI,CAAC;IACT,IAAA,kBAAS,EAAC,6BAAY,CAAC;IACpB,WAAA,IAAA,YAAG,GAAE,CAAA;;;;wCAGR;yBAnBU,cAAc;IAD1B,IAAA,mBAAU,EAAC,MAAM,CAAC;qCAEkB,sBAAW;GADnC,cAAc,CAoB1B","names":[],"sources":["/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/api/src/modules/auth/auth.controller.ts"],"sourcesContent":["import { Body, Controller, Get, Headers, HttpCode, HttpStatus, Post, Req, UseGuards } from '@nestjs/common';\nimport AuthService from './auth.service';\nimport { JwtAuthGuard } from './jwt-auth.guard';\n\n@Controller('auth')\nexport class AuthController {\n  constructor(private readonly auth: AuthService) {}\n\n  @Post('signup')\n  async signup(@Headers('x-org') slug: string, @Body() dto: { email: string; password: string }) {\n    return this.auth.signup({ org: slug, email: dto.email, password: dto.password });\n  }\n\n  @Post('login')\n  @HttpCode(HttpStatus.OK)\n  async login(@Headers('x-org') slug: string, @Body() dto: { email: string; password: string }) {\n    return this.auth.login({ org: slug, email: dto.email, password: dto.password });\n  }\n\n  @Get('me')\n  @UseGuards(JwtAuthGuard)\n  me(@Req() req: any) {\n    // req.user is set by JwtStrategy.validate\n    return { id: req.user.id, email: req.user.email };\n  }\n}"],"version":3}