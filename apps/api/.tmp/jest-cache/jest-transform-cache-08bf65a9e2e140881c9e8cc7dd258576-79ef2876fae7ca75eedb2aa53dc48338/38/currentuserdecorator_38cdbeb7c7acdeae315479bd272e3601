99372e933adab2a240626ed3285e8e6d
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CurrentUser = void 0;
const common_1 = require("@nestjs/common");
/**
 * Usage:
 *   @CurrentUser() user: any
 *   @CurrentUser('sub') userId: string
 */
exports.CurrentUser = (0, common_1.createParamDecorator)((key, ctx) => {
    const req = ctx.switchToHttp().getRequest();
    const user = req?.user;
    return key ? user?.[key] : user;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL21hbm55c2FyaW5hbmEvRG93bmxvYWRzL3NvY2lhbC1idXNpbmVzcy1vcy1zY2FmZm9sZC12MC4yL2FwcHMvYXBpL3NyYy9tb2R1bGVzL2F1dGgvY3VycmVudC11c2VyLmRlY29yYXRvci50cyIsIm1hcHBpbmdzIjoiOzs7QUFBQSwyQ0FBd0U7QUFFeEU7Ozs7R0FJRztBQUNVLFFBQUEsV0FBVyxHQUFHLElBQUEsNkJBQW9CLEVBQzdDLENBQUMsR0FBdUIsRUFBRSxHQUFxQixFQUFFLEVBQUU7SUFDakQsTUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLFlBQVksRUFBRSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQzVDLE1BQU0sSUFBSSxHQUFHLEdBQUcsRUFBRSxJQUFJLENBQUM7SUFDdkIsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDbEMsQ0FBQyxDQUNGLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL21hbm55c2FyaW5hbmEvRG93bmxvYWRzL3NvY2lhbC1idXNpbmVzcy1vcy1zY2FmZm9sZC12MC4yL2FwcHMvYXBpL3NyYy9tb2R1bGVzL2F1dGgvY3VycmVudC11c2VyLmRlY29yYXRvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVQYXJhbURlY29yYXRvciwgRXhlY3V0aW9uQ29udGV4dCB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcblxuLyoqXG4gKiBVc2FnZTpcbiAqICAgQEN1cnJlbnRVc2VyKCkgdXNlcjogYW55XG4gKiAgIEBDdXJyZW50VXNlcignc3ViJykgdXNlcklkOiBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IEN1cnJlbnRVc2VyID0gY3JlYXRlUGFyYW1EZWNvcmF0b3IoXG4gIChrZXk6IHN0cmluZyB8IHVuZGVmaW5lZCwgY3R4OiBFeGVjdXRpb25Db250ZXh0KSA9PiB7XG4gICAgY29uc3QgcmVxID0gY3R4LnN3aXRjaFRvSHR0cCgpLmdldFJlcXVlc3QoKTtcbiAgICBjb25zdCB1c2VyID0gcmVxPy51c2VyO1xuICAgIHJldHVybiBrZXkgPyB1c2VyPy5ba2V5XSA6IHVzZXI7XG4gIH0sXG4pOyJdLCJ2ZXJzaW9uIjozfQ==