{"file":"/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/api/src/modules/products/products.controller.ts","mappings":";;;;;;;;;;;;;;;AAAA,yDAA2D;AAC3D,2CAWwB;AACxB,qEAAgE;AAChE,iEAA4D;AAC5D,iEAA4D;AAC5D,yDAAqD;AAI9C,IAAM,kBAAkB,GAAxB,MAAM,kBAAkB;IAC7B,YAA6B,GAAoB;QAApB,QAAG,GAAH,GAAG,CAAiB;IAAG,CAAC;IAGrD,IAAI,CACgB,GAAW,EACd,IAAsB,EACrB,KAAuB;QAEvC,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,IAAI,IAAI,CAAC,CAAC,EAAE,MAAM,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC;IACpE,CAAC;IAGD,GAAG,CAAmB,GAAW,EAAe,EAAU;QACxD,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;IAC/B,CAAC;IAGD,MAAM,CAAmB,GAAW,EAAU,GAAqB;QACjE,OAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;IACnC,CAAC;IAGD,MAAM,CAAmB,GAAW,EAAe,EAAU,EAAU,GAAqB;QAC1F,OAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;IACvC,CAAC;IAGD,MAAM,CAAmB,GAAW,EAAe,EAAU;QAC3D,OAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;IAClC,CAAC;IAED,wDAAwD;IAExD,eAAe,CACK,GAAW,EAChB,EAAU,EACf,GAAuB;QAE/B,OAAO,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,GAAG,EAAE,EAAE,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IACtD,CAAC;CACF,CAAA;AAzCY,gDAAkB;AAI7B;IADC,IAAA,YAAG,GAAE;IAEH,WAAA,IAAA,gBAAO,EAAC,OAAO,CAAC,CAAA;IAChB,WAAA,IAAA,cAAK,EAAC,MAAM,CAAC,CAAA;IACb,WAAA,IAAA,cAAK,EAAC,OAAO,CAAC,CAAA;;;;8CAGhB;AAGD;IADC,IAAA,YAAG,EAAC,KAAK,CAAC;IACN,WAAA,IAAA,gBAAO,EAAC,OAAO,CAAC,CAAA;IAAe,WAAA,IAAA,cAAK,EAAC,IAAI,CAAC,CAAA;;;;6CAE9C;AAGD;IADC,IAAA,aAAI,GAAE;IACC,WAAA,IAAA,gBAAO,EAAC,OAAO,CAAC,CAAA;IAAe,WAAA,IAAA,aAAI,GAAE,CAAA;;6CAAM,qCAAgB;;gDAElE;AAGD;IADC,IAAA,YAAG,EAAC,KAAK,CAAC;IACH,WAAA,IAAA,gBAAO,EAAC,OAAO,CAAC,CAAA;IAAe,WAAA,IAAA,cAAK,EAAC,IAAI,CAAC,CAAA;IAAc,WAAA,IAAA,aAAI,GAAE,CAAA;;qDAAM,qCAAgB;;gDAE3F;AAGD;IADC,IAAA,eAAM,EAAC,KAAK,CAAC;IACN,WAAA,IAAA,gBAAO,EAAC,OAAO,CAAC,CAAA;IAAe,WAAA,IAAA,cAAK,EAAC,IAAI,CAAC,CAAA;;;;gDAEjD;AAID;IADC,IAAA,aAAI,EAAC,eAAe,CAAC;IAEnB,WAAA,IAAA,gBAAO,EAAC,OAAO,CAAC,CAAA;IAChB,WAAA,IAAA,cAAK,EAAC,IAAI,CAAC,CAAA;IACX,WAAA,IAAA,aAAI,GAAE,CAAA;;qDAAM,yCAAkB;;yDAGhC;6BAxCU,kBAAkB;IAF9B,IAAA,mBAAU,EAAC,UAAU,CAAC;IACtB,IAAA,kBAAS,EAAC,0BAAc,CAAC;qCAEU,kCAAe;GADtC,kBAAkB,CAyC9B","names":[],"sources":["/Users/mannysarinana/Downloads/social-business-os-scaffold-v0.2/apps/api/src/modules/products/products.controller.ts"],"sourcesContent":["import { OrgHeaderGuard } from '@/common/guards/org.guard';\nimport {\n  Body,\n  Controller,\n  Delete,\n  Get,\n  Headers,\n  Param,\n  Post,\n  Put,\n  Query,\n  UseGuards,\n} from '@nestjs/common';\nimport { AdjustInventoryDto } from './dto/adjust-inventory.dto';\nimport { CreateProductDto } from './dto/create-product.dto';\nimport { UpdateProductDto } from './dto/update-product.dto';\nimport { ProductsService } from './products.service';\n\n@Controller('products')\n@UseGuards(OrgHeaderGuard)\nexport class ProductsController {\n  constructor(private readonly svc: ProductsService) {}\n\n  @Get()\n  list(\n    @Headers('x-org') org: string,\n    @Query('page') page?: string | number,\n    @Query('limit') limit?: string | number,\n  ) {\n    return this.svc.list(org, Number(page ?? 1), Number(limit ?? 10));\n  }\n\n  @Get(':id')\n  get(@Headers('x-org') org: string, @Param('id') id: string) {\n    return this.svc.get(org, id);\n  }\n\n  @Post()\n  create(@Headers('x-org') org: string, @Body() dto: CreateProductDto) {\n    return this.svc.create(org, dto);\n  }\n\n  @Put(':id')\n  update(@Headers('x-org') org: string, @Param('id') id: string, @Body() dto: UpdateProductDto) {\n    return this.svc.update(org, id, dto);\n  }\n\n  @Delete(':id')\n  remove(@Headers('x-org') org: string, @Param('id') id: string) {\n    return this.svc.remove(org, id);\n  }\n\n  // NEW: Adjust inventory by delta (positive or negative)\n  @Post(':id/inventory')\n  adjustInventory(\n    @Headers('x-org') org: string,\n    @Param('id') id: string,\n    @Body() dto: AdjustInventoryDto,\n  ) {\n    return this.svc.adjustInventory(org, id, dto.delta);\n  }\n}"],"version":3}